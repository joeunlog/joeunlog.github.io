<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>2021-04-01 - Joeunlog</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>2021-04-01 | Joeunlog</title> <meta name="generator" content="Jekyll v4.2.0" /> <meta property="og:title" content="2021-04-01" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." /> <meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." /> <link rel="canonical" href="/docs/daily-learning-log/20210401.html" /> <meta property="og:url" content="/docs/daily-learning-log/20210401.html" /> <meta property="og:site_name" content="Joeunlog" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="2021-04-01" /> <script type="application/ld+json"> {"@type":"WebPage","url":"/docs/daily-learning-log/20210401.html","headline":"2021-04-01","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/" class="site-title lh-tight"> Joeunlog </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/docs/" class="nav-list-link">Joeunvit Study log</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/python-study/" class="nav-list-link">Python-study</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/python-study/01-set-environment.html" class="nav-list-link">Setting environment</a></li><li class="nav-list-item "><a href="/docs/python-study/02-data-type.html" class="nav-list-link">Data type</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/daily-learning-log/" class="nav-list-link">Daily-learning-log</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/daily-learning-log/20210127.html" class="nav-list-link">2021-01-27</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210128.html" class="nav-list-link">2021-01-28</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210129.html" class="nav-list-link">2021-01-29</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210201.html" class="nav-list-link">2021-02-01</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210205.html" class="nav-list-link">2021-02-05</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210329.html" class="nav-list-link">2021-03-29</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210330.html" class="nav-list-link">2021-03-30</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210331.html" class="nav-list-link">2021-03-31</a></li><li class="nav-list-item active"><a href="/docs/daily-learning-log/20210401.html" class="nav-list-link active">2021-04-01</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210405.html" class="nav-list-link">2021-04-05</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210406.html" class="nav-list-link">2021-04-06</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210407.html" class="nav-list-link">2021-04-07</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210408.html" class="nav-list-link">2021-04-08</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210409.html" class="nav-list-link">2021-04-09</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210420.html" class="nav-list-link">2021-04-20</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210421.html" class="nav-list-link">2021-04-21</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210422.html" class="nav-list-link">2021-04-22</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210423.html" class="nav-list-link">2021-04-23</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210426.html" class="nav-list-link">2021-04-26</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210427.html" class="nav-list-link">2021-04-27</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210428.html" class="nav-list-link">2021-04-28</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210429.html" class="nav-list-link">2021-04-29</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210503.html" class="nav-list-link">2021-05-03</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210504.html" class="nav-list-link">2021-05-04</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210506.html" class="nav-list-link">2021-05-06</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210507.html" class="nav-list-link">2021-05-07</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210510.html" class="nav-list-link">2021-05-10</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210511.html" class="nav-list-link">2021-05-11</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210512.html" class="nav-list-link">2021-05-12</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210513.html" class="nav-list-link">2021-05-13</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210514.html" class="nav-list-link">2021-05-14</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210517.html" class="nav-list-link">2021-05-17</a></li><li class="nav-list-item "><a href="/docs/daily-learning-log/20210518.html" class="nav-list-link">2021-05-18</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Joeunlog" aria-label="Search Joeunlog" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/docs/daily-learning-log/">Daily-learning-log</a></li> <li class="breadcrumb-nav-list-item"><span>2021-04-01</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1> awk 계속 </h1> <h2> 옵션 </h2> <ul> <li>-F : FS 지정 <ul> <li>ex. awk -F: ‘{print $1}’ sample.txt ; -F 뒤에 공백 있어도 되고 없어도 됨</li> <li>awk -F : ‘/nologin/ {print $1}’ sample.txt</li> <li>구분자가 여러가지인 경우 : -F’[구분자기호들]’ (ex. awk -F’[:,]’ ‘{print $1,$2,$3}’ test.txt)</li> </ul> </li> </ul> <h2> 명령 </h2> <ul> <li>print : 데이터를 사용자가 지정한 형식으로 출력 <ul> <li>사용자가 입력한 모양대로 출력 생성</li> <li>$1, $2 등 필드를 지정하여 출력 가능</li> <li>문자열 삽입 : “ “</li> <li>내부에서 ‘,’ 기호 사용시 자동으로 OFS 삽입</li> <li>일부 특수한 용도의 문자 사용 가능 <ul> <li>\b : 백스페이스 ; 커서를 앞으로 한 칸 이동</li> <li>\n : new line ; 개행</li> <li>\r : Carriage Return ; 커서가 라인의 맨 앞으로 이동</li> <li>\a : Beep ; 소리 발생</li> <li>\t : Tab 삽입</li> <li>\047 : ‘ 기호 ; 숫자 변경시 다른 특수문자(코드값기준)</li> </ul> </li> </ul> </li> <li>printf : print + format(출력형식)</li> </ul> <h2> 패턴 활용 </h2> <ul> <li>Match 연산자 : ~ <ul> <li> <필드변수>~<정규화표현식> : 특정 필드가 정규화 표현식을 만족하는지 확인 </정규화표현식></필드변수> <ul> <li>awk -F: ‘$1 ~ /root/’ /etc/passwd</li> </ul> </li> <li> <필드변수>!~<정규화표현식> : 특정 필드가 정규화 표현식을 만족하지 않을 경우 </정규화표현식></필드변수> </li> </ul> </li> <li>비교연산자 &gt;, &lt;, &gt;=, &lt;=, == <ul> <li>awk -F’[:,]’ ‘$2&gt;80 {print $1}’ test.txt</li> <li>awk -F: ‘$1 == “root”’ /etc/passwd : 1번 필드가 root인 경우</li> <li>awk -F: ‘$1 ~ /root/’ /etc/passwd : 1번 필드에 root 패턴이 있는 경우</li> <li>awk -F: ‘$1 ~ /^root$/’ /etc/passwd : 1번 필드가 ^root$를 만족하는 경우 (==와 같은 의미로 해석됨)</li> </ul> </li> <li>논리연산자 : <패턴>&amp;&amp;<패턴>, <패턴>||<패턴></패턴></패턴></패턴></패턴></li> </ul> <h2> 출력시 데이터 변경 </h2> <ul> <li>사칙연산 : +, -, *, /, % <ul> <li>awk -F’[:,]’ ‘$2&gt;80 {print $1, $2+10}’ test.txt</li> <li>awk -F’[:,]’ ‘$2&gt;80 {print $1, $2-10}’ test.txt</li> <li>awk -F’[:,]’ ‘$2&gt;80 {print $1, $2*10}’ test.txt</li> <li>awk -F’[:,]’ ‘$2&gt;80 {print $1, $2/10}’ test.txt</li> <li>awk -F’[:,]’ ‘$2&gt;80 {print $1, $2%3}’ test.txt</li> </ul> </li> <li>가산, 감산 : +=, -= <ul> <li>awk -F’[:,]’ ‘$2&gt;80 {print $1, $2+=10}’ test.txt</li> <li>awk -F’[:,]’ ‘$2&gt;80 {print $1, $2-=10}’ test.txt</li> <li>awk -F’[:,]’ ‘$2&gt;80 {$2+=10; print $1, $2}’ test.txt</li> </ul> </li> <li>문자열 값 변경 : = <ul> <li>awk -F’[:,]’ ‘$2&gt;80 {print $1=”me”, $2}’ test.txt</li> </ul> </li> <li>선택적 데이터 출력 : ‘{print ( A ? B : C )}’ : A를 검사해서 참이면 B 거짓이면 C 출력 <ul> <li>awk -F’[:,]’ ‘{ print $1, ( $2&gt;80?”Pass”:”Not Pass”)}’ test.txt</li> </ul> </li> </ul> <h2> 실습 (donors 파일) </h2> <ul> <li>전화번호를 모두 출력하세요 <ul> <li>awk -F: ‘{ print $2}’ donors</li> </ul> </li> <li>Dan의 전화번호를 출력하세요 <ul> <li>awk -F: ‘/Dan/ { print $2}’ donors</li> <li>awk -F: ‘$1 ~ /Dan/ { print $2}’ donors</li> </ul> </li> <li>Susan의 성(family name)과 전화번호를 출력하세요 <ul> <li>awk -F’[: ]’ ‘$1==”Susan” { print $2,$3,$4 }’ donors</li> <li>awk -F’[: ]’ ‘$1 ~ /Susan/ { print $2,$3,$4}’ donors</li> </ul> </li> <li>C나 E로 시작하는 이름을 출력하세요 <ul> <li>awk -F’[: ]’ ‘$1 ~ /^[CE]/ { print $1}’ donors</li> </ul> </li> <li>지역번호가 916인 사람들의 이름을 출력하세요 <ul> <li>awk -F’[: ]’ ‘$3 ~ /^(916)$/ { print $1}’ donors</li> </ul> </li> <li>Mike의 기부금을 출력하세요. 액수는 달러 기호($)로 시작해야 합니다. (예: $250, $100) <ul> <li>awk -F: ‘$1 ~ /Mike/ { print “$”$3”, $”$4”, $”$5}’ donors</li> </ul> </li> </ul> <p>변수의 초기화 : 변수를 선언할 때 기본값 입력 - awk에서는 변수를 사용하면 즉시 생성되고 초기화 ; 수치는 0 ; 문자는 “”</p> <h2> BEGIN </h2> <ul> <li>awk 명령어 시작 시 한 번만 수행되는 내용</li> <li>블록 형태로 작성</li> <li>변수의 선언 및 초기화</li> <li>기본 내장 변수(FS, OFS, RS, ORS)값을 변경할 때 사용</li> <li>헤더, 타이틀 등을 출력할 때 사용</li> </ul> <h2> END </h2> <ul> <li>모든 레코드에 대한 처리가 완료된 이후 1번만 실행</li> <li>결과치를 출력하기 위한 용도로 사용</li> <li>푸터(footer) 아래쪽에 들어갈 내용 출력 시 사용</li> </ul> <h2> BEGIN, END 사용 예시 </h2> <ul> <li>awk ‘BEGIN{ FS=”[:,]”; OFS=”\t”; KOR=100; print “KOR Score\n=========”}{ KOR+=$2; print $1,$2 } END{print “========\nKOR total: “KOR”\n=========”}’ test.txt</li> </ul> <h2> awk script </h2> <ul> <li>실행할 내용 중 ‘ ‘ 안에 들어갈 내용을 스크립트로 작성 (sed와 동일)</li> <li>BEGIN, ACTION, END를 각 줄로 구분하여 처리</li> <li>세미콜론 부분은 줄 바꿈으로 치환 가능</li> <li>예시 스크립트 <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nx">BEGIN</span><span class="p">{</span> <span class="nx">FS</span><span class="o">=</span><span class="dl">"</span><span class="s2">[:,]</span><span class="dl">"</span>									
  <span class="err">       </span><span class="nx">OFS</span><span class="o">=</span><span class="dl">"</span><span class="se">\t</span><span class="dl">"</span>									
  <span class="err">       </span><span class="nx">KOR</span><span class="o">=</span><span class="mi">100</span>									
  <span class="err">       </span><span class="nx">print</span> <span class="dl">"</span><span class="s2">KOR Score</span><span class="se">\n</span><span class="s2">=========</span><span class="dl">"</span><span class="p">}</span>									
										
  <span class="p">{</span> <span class="nx">KOR</span><span class="o">+=</span><span class="nx">$2</span><span class="p">;</span> <span class="nx">print</span> <span class="nx">NR</span><span class="p">,</span> <span class="nx">$1</span><span class="p">,</span><span class="nx">$2</span> <span class="p">}</span>									
										
  <span class="nx">END</span><span class="p">{</span> <span class="nx">print</span> <span class="dl">"</span><span class="s2">========</span><span class="se">\n</span><span class="s2">KOR total: </span><span class="dl">"</span><span class="nx">KOR</span><span class="dl">"</span><span class="se">\n</span><span class="s2">=========</span><span class="dl">"</span><span class="p">}</span>			
</code></pre></div> </div> </li> <li>예시 스크립트 사용 : awk -f awkscript test.txt</li> </ul> <h2> awk script 실습 예제 </h2> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">-</span> <span class="nx">다음과</span> <span class="nx">같은</span> <span class="nx">형식으로</span> <span class="nx">출력하시오</span>										
<span class="nx">Donor</span> <span class="nx">List</span>										
<span class="o">-------------------------------------------------------------------------</span>
<span class="nx">Name</span> <span class="nx">Phone</span> <span class="nx">Jan</span> <span class="nx">Feb</span> <span class="nx">Mar</span> <span class="nx">AVG</span>										
<span class="o">-------------------------------------------------------------------------</span>
<span class="nx">Mike</span> <span class="nx">Harrington</span> <span class="p">(</span><span class="mi">510</span><span class="p">)</span> <span class="mi">548</span><span class="o">-</span><span class="mi">1278</span> <span class="mi">250</span> <span class="mi">100</span> <span class="mi">175</span> <span class="mf">175.00</span>
<span class="nx">Christian</span> <span class="nx">Dobbins</span> <span class="p">(</span><span class="mi">408</span><span class="p">)</span> <span class="mi">538</span><span class="o">-</span><span class="mi">2358</span> <span class="mi">155</span> <span class="mi">90</span> <span class="mi">201</span> <span class="mf">148.67</span>
<span class="nx">Susan</span> <span class="nx">Dalsass</span> <span class="p">(</span><span class="mi">206</span><span class="p">)</span> <span class="mi">654</span><span class="o">-</span><span class="mi">6279</span> <span class="mi">250</span> <span class="mi">60</span> <span class="mi">50</span> <span class="mf">120.00</span>
<span class="p">....</span>										
<span class="o">-------------------------------------------------------------------------</span>
<span class="nx">Summary</span>										
<span class="o">-------------------------------------------------------------------------</span>
<span class="nx">Total</span> <span class="nx">donate</span> <span class="p">:</span> <span class="nx">$6137</span>										
<span class="nx">Avg</span> <span class="p">:</span> <span class="nx">$511</span>										
<span class="o">-------------------------------------------------------------------------</span>
</code></pre></div></div> <ul> <li>print만 사용 ( 이름이 긴 사람들 때문에 칸이 어긋남 )</li> </ul> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nx">BEGIN</span><span class="p">{</span> <span class="nx">FS</span><span class="o">=</span><span class="dl">"</span><span class="s2">:</span><span class="dl">"</span>								
        <span class="nx">OFS</span><span class="o">=</span><span class="dl">"</span><span class="se">\t</span><span class="dl">"</span>							
        <span class="nx">TOTAL</span><span class="o">=</span><span class="mi">0</span>							
        <span class="nx">PERTOTAL</span><span class="o">=</span><span class="mi">0</span>							
        <span class="nx">print</span> <span class="dl">"</span><span class="s2">				Donor List</span><span class="dl">"</span>			
        <span class="nx">print</span> <span class="dl">"</span><span class="s2">-------------------------------------------------------------------------</span><span class="dl">"</span>
        <span class="nx">print</span> <span class="dl">"</span><span class="s2">Name			Phone		Jan	Feb	Mar</span><span class="dl">"</span>
        <span class="nx">print</span> <span class="dl">"</span><span class="s2">-------------------------------------------------------------------------</span><span class="dl">"</span>
    <span class="p">}</span>								
                                    
    <span class="p">{</span> <span class="nx">PERTOTAL</span><span class="o">=</span><span class="nx">$3</span><span class="o">+</span><span class="nx">$4</span><span class="o">+</span><span class="nx">$5</span>								
    <span class="nx">TOTAL</span><span class="o">+=</span><span class="nx">PERTOTAL</span>								
        <span class="nx">print</span> <span class="nx">$1</span><span class="dl">"</span><span class="se">\t</span><span class="dl">"</span><span class="nx">$2</span><span class="p">,</span><span class="nx">$3</span><span class="p">,</span><span class="nx">$4</span><span class="p">,</span><span class="nx">$5</span><span class="p">,</span><span class="nx">PERTOTAL</span><span class="o">/</span><span class="mi">3</span>   <span class="p">}</span>								
                                    
    <span class="nx">END</span><span class="p">{</span> 								
        <span class="nx">print</span> <span class="dl">"</span><span class="s2">-------------------------------------------------------------------------</span><span class="dl">"</span>
        <span class="nx">print</span> <span class="dl">"</span><span class="s2">Summary</span><span class="dl">"</span>							
        <span class="nx">print</span> <span class="dl">"</span><span class="s2">-------------------------------------------------------------------------</span><span class="dl">"</span>
        <span class="nx">print</span> <span class="dl">"</span><span class="s2">Total donate : $</span><span class="dl">"</span><span class="nx">TOTAL</span>							
        <span class="nx">print</span> <span class="dl">"</span><span class="s2">Avg : $</span><span class="dl">"</span><span class="nx">TOTAL</span><span class="o">/</span><span class="nx">NR</span>							
        <span class="nx">print</span> <span class="dl">"</span><span class="s2">-------------------------------------------------------------------------</span><span class="dl">"</span>
    <span class="p">}</span>
</code></pre></div></div> <ul> <li>printf 사용</li> </ul> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nx">BEGIN</span><span class="p">{</span> <span class="nx">FS</span><span class="o">=</span><span class="dl">"</span><span class="s2">:</span><span class="dl">"</span>								
        <span class="nx">OFS</span><span class="o">=</span><span class="dl">"</span><span class="se">\t</span><span class="dl">"</span>							
        <span class="nx">TOTAL</span><span class="o">=</span><span class="mi">0</span>							
        <span class="nx">PERTOTAL</span><span class="o">=</span><span class="mi">0</span>							
        <span class="nx">print</span> <span class="dl">"</span><span class="s2">				Donor List</span><span class="dl">"</span>			
        <span class="nx">print</span> <span class="dl">"</span><span class="s2">-------------------------------------------------------------------------</span><span class="dl">"</span>
        <span class="nx">printf</span> <span class="dl">"</span><span class="s2">%-20sPhone		Jan	Feb	Mar	AVG</span><span class="se">\n</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">Name</span><span class="dl">"</span>		
        <span class="nx">print</span> <span class="dl">"</span><span class="s2">-------------------------------------------------------------------------</span><span class="dl">"</span>
    <span class="p">}</span>								
                                    
    <span class="p">{</span> <span class="nx">PERTOTAL</span><span class="o">=</span><span class="nx">$3</span><span class="o">+</span><span class="nx">$4</span><span class="o">+</span><span class="nx">$5</span>								
    <span class="nx">TOTAL</span><span class="o">+=</span><span class="nx">PERTOTAL</span>								
        <span class="nx">printf</span> <span class="dl">"</span><span class="s2">%-20s%s</span><span class="se">\t</span><span class="s2">%3d</span><span class="se">\t</span><span class="s2">%3d</span><span class="se">\t</span><span class="s2">%3d</span><span class="se">\t</span><span class="s2">%.2f</span><span class="se">\n</span><span class="dl">"</span><span class="p">,</span><span class="nx">$1</span><span class="p">,</span><span class="nx">$2</span><span class="p">,</span><span class="nx">$3</span><span class="p">,</span><span class="nx">$4</span><span class="p">,</span><span class="nx">$5</span><span class="p">,</span><span class="nx">PERTOTAL</span><span class="o">/</span><span class="mi">3</span>   <span class="p">}</span>
                                    
    <span class="nx">END</span><span class="p">{</span> 								
        <span class="nx">print</span> <span class="dl">"</span><span class="s2">-------------------------------------------------------------------------</span><span class="dl">"</span>
        <span class="nx">print</span> <span class="dl">"</span><span class="s2">Summary</span><span class="dl">"</span>							
        <span class="nx">print</span> <span class="dl">"</span><span class="s2">-------------------------------------------------------------------------</span><span class="dl">"</span>
        <span class="nx">print</span> <span class="dl">"</span><span class="s2">Total donate : $</span><span class="dl">"</span><span class="nx">TOTAL</span>							
        <span class="nx">print</span> <span class="dl">"</span><span class="s2">Avg : $</span><span class="dl">"</span><span class="nx">TOTAL</span><span class="o">/</span><span class="nx">NR</span>							
        <span class="nx">print</span> <span class="dl">"</span><span class="s2">-------------------------------------------------------------------------</span><span class="dl">"</span>
    <span class="p">}</span>								
</code></pre></div></div> <h1> 조건문과 반복문 </h1> <h2> 조건문 개요 </h2> <ul> <li>조건에 따라 수행할 동작을 지정</li> <li>if : 조건이 맞으면 실행, 아니면 패스</li> <li>if~else : 조건이 맞으면 if 아래를 실행, 조건이 틀리면 else 아래를 실행</li> <li>if~else if~else : 조건이 여러 개, if, else if, else임</li> </ul> <h2> 조건문의 문법 : if, then, fi </h2> <ul> <li>유형 1 <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">if</span> <span class="p">(</span><span class="nx">조건</span><span class="p">)</span>		
  <span class="nx">then</span>		
      <span class="p">(</span><span class="k">if</span> <span class="nx">실행할</span> <span class="nx">내용</span><span class="p">)</span>	
  <span class="nx">fi</span>		
</code></pre></div> </div> </li> <li>유형 2 <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">if</span> <span class="p">(</span><span class="nx">조건</span><span class="p">)</span>		
  <span class="nx">then</span>		
      <span class="p">(</span><span class="k">if</span> <span class="nx">실행할</span> <span class="nx">내용</span><span class="p">)</span>	
  <span class="k">else</span>		
      <span class="p">(</span><span class="k">else</span> <span class="nx">실행할</span> <span class="nx">내용</span><span class="p">)</span>	
  <span class="nx">fi</span>	
</code></pre></div> </div> </li> <li>유형 3 <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">if</span> <span class="p">(</span><span class="nx">조건1</span><span class="p">)</span>		
  <span class="nx">then</span>		
      <span class="p">(</span><span class="k">if</span> <span class="nx">조건1에</span> <span class="nx">따라</span> <span class="nx">실행할</span> <span class="nx">내용</span><span class="p">)</span>	
  <span class="nx">elif</span> <span class="p">(</span><span class="nx">조건2</span><span class="p">)</span>		
  <span class="nx">then</span>		
      <span class="p">(</span><span class="nx">elif</span> <span class="nx">조건2에</span> <span class="nx">따라</span> <span class="nx">실행할</span> <span class="nx">내용</span><span class="p">)</span>	
  <span class="nx">elif</span> <span class="p">(</span><span class="nx">조건3</span><span class="p">)</span>		
  <span class="nx">then</span>		
      <span class="p">(</span><span class="nx">elif</span> <span class="nx">조건3에</span> <span class="nx">따라</span> <span class="nx">실행할</span> <span class="nx">내용</span><span class="p">)</span>	
  <span class="err">…</span>		
  <span class="k">else</span>		
      <span class="p">(</span><span class="nx">모든</span> <span class="nx">조건을</span> <span class="nx">만족하지</span> <span class="nx">않을</span> <span class="nx">경우</span> <span class="nx">실행할</span> <span class="nx">내용</span><span class="p">)</span>	
  <span class="nx">fi</span>	
</code></pre></div> </div> </li> <li>case = if~elif~else와 유사한 동작 <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">case</span> <span class="nx">변수명</span> <span class="k">in</span>		
  <span class="nx">값1</span><span class="p">)</span> <span class="nx">실행내용1</span> <span class="p">;;</span>		
  <span class="nx">값2</span><span class="p">)</span> <span class="nx">실행내용2</span> <span class="p">;;</span>		
  <span class="nx">값3</span><span class="p">)</span> <span class="nx">실행내용3</span> <span class="p">;;</span>		
  <span class="o">*</span><span class="p">)</span> <span class="nx">실행내용4</span>		
  <span class="nx">esac</span>
</code></pre></div> </div> </li> </ul> <h2> 쉘 프로그래밍의 조건문에서의 '조건' </h2> <ul> <li>명령의 실행 결과가 if의 조건으로 사용됨 : 종료상태 (Exit Status) <ul> <li>정상종료 : 0 (true)</li> <li>비정상종료 : 0이 아닌 모든 값 (false)</li> </ul> </li> <li>/usr/bin/true, /usr/bin/false : 다른 역할은 하지 않으면서 종료상태만 변경</li> <li>‘ : ’ : true 와 같은 역할</li> <li>수치비교, 문자, 문자열비교 : test <ul> <li>수치비교 <ul> <li>== : equal; INT1 -eq INT2</li> <li>!= : not equal; INT1 -ne INT2</li> <li> <blockquote> <p>: greater than ; INT1 -gt INT2</p> </blockquote> </li> <li>&lt; : less than ; INT1 -lt INT2</li> <li> <blockquote> <p>= : greater or equal ; INT1 -ge INT2</p> </blockquote> </li> <li>&lt;= : less or equal ; INT1 -le INT2</li> </ul> </li> <li>문자비교 <ul> <li>문자열1 = 문자열2 : 같으면 참</li> <li>문자열1 != 문자열2 : 다르면 참</li> <li>문자열 : NULL이 아니면 참 <ul> <li>NULL은 데이터 존재유무로 판단</li> </ul> </li> <li>-z 문자열 : 문자열의 길이가 0이면 참</li> <li>-n 문자열 : 문자열의 길이가 0이 아니면 참 <ul> <li>쉘프로그래밍에서는 NULL이랑 문자열길이가 0인거랑 차이 없음</li> </ul> </li> </ul> </li> <li>test 명령어는 [ ] 로 대체 가능</li> <li>ksh, bash 등 이후에 나온 쉘은 다음과 같은 기능도 사용 가능 <ul> <li>[[ 문자열 = 패턴 ]] : 문자열에 패턴이 포함되면 참 <ul> <li>정규화 표현식이 아닌 패턴의 일부 기능만 사용 가능</li> <li>[문자집합] : 문자집합 중 한 글자</li> <li>? : 한 글자</li> <li> <ul> <li>: 모든 글자</li> </ul> </li> </ul> </li> <li>[[ 문자열 != 패턴 ]] : 문자열에 패턴이 없을 때 참</li> <li>[[ 문자열1 &gt; 문자열2 ]] : 문자열1이 문자열2보다 ASCII 값이 크면 참</li> <li>마찬가지로, let을 사용하여 수치비교 가능 : (( ))</li> <li>(( 변수1 &gt; 숫자 )) : 변수1이 숫자보다 크면 참</li> <li>(( 변수1 = 변수2 + 변수3 )) : 변수를 사용한 계산 가능</li> </ul> </li> <li>파일관련 조건 확인 : [옵션] [파일명] <ul> <li>-b : 블록 장치인지</li> <li>-c : 캐릭터 장치인지</li> <li>-d : 디렉토리인지</li> <li>-e : 파일이 존재하는지</li> <li>-f : 일반 파일인지</li> <li>-r : test를 수행하는 사용자가 파일의 읽기 권한이 있는지</li> <li>-w : test를 수행하는 사용자가 파일의 쓰기 권한이 있는지</li> <li>-x : test를 수행하는 사용자가 파일의 실행 권한이 있는지</li> <li>-u : SetUID가 설정되어 있는지</li> <li>-g : SetGID가 설정되어 있는지</li> <li>-k : StickyBit가 설정되어 있는지</li> </ul> </li> <li>test 사용시 조건의 논리합/논리곱 <ul> <li>and : [ 조건1 -a 조건2 ] 혹은 [[ 조건1 &amp;&amp; 조건2 ]]</li> <li>or : [ 조건1 -o 조건2 ] 혹은 [[ 조건1 || 조건2 ]]</li> </ul> </li> </ul> </li> </ul> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
